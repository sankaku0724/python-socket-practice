システム要件
1.複数のクライアントからのログデータは，ある時刻において，一つのファイルへ保存すること
2.保存ファイルを約30 秒ごとに新しく生成し，新しく生成したファイルにログデータを保存すること


1は平行プロセスを利用して作成した部分を丸々スレッドに置き換えて実現させた。

2は1で扱ったstock_handler関数の中身を変えた。30秒ごとに新しいファイルに書き込む処理をする際、現在時刻を取得するdatetime.datetime.now()の部分を活かすためにtotal_seconds()で秒数の部分だけ抜き取る処理をした。これにより、最初の30秒で受け取ったログデータはhhmmss.txtに格納され、30秒経つごとに新しく生成されたファイルにログデータが格納される。